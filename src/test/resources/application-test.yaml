spring:
  application:
    name: dragon-of-north
  datasource:
    driver-class-name: org.postgresql.Driver
  jpa:
    show-sql: false
    database: postgresql
    hibernate:
      ddl-auto: create-drop
  jackson:
    property-naming-strategy: SNAKE_CASE
  data:
    redis:
      host: localhost
      port: 6379
      password: ""
      timeout: 100ms

db_name: postgresql
db_url: localhost
db_port: 5432
db_username: test
db_password: test
db_ddl_auto: create-drop

access_token: 60000          # 1 minute (shorter for faster tests)
refresh_token: 300000       # 5 minutes (shorter for faster tests)

otp_length: 4               # Shorter for testing
otp_ttl_minutes: 2          # 2 minutes for tests
otp_max_verify_attempts: 2   # Fewer attempts for tests
otp_request_window_seconds: 300  # 5 minutes for tests
otp_block_duration_minutes: 1    # 1 minute for tests
otp_resend_cooldown_seconds: 30  # 30 seconds for tests
otp_max_requests_per_window: 5   # Fewer requests for tests
otp_cleanup_delay_ms: 60000     # 1 minute for tests

auth_signup_request_window_seconds: 300  # 5 minutes for tests
auth_signup_max_requests_per_window: 3   # Fewer signup attempts for tests
auth_signup_block_duration_minutes: 5    # 5 minutes for tests
auth_login_max_failed_attempts: 3        # Fewer login attempts for tests
auth_login_block_duration_minutes: 5     # 5 minutes for tests

aws_region: test-region-1
aws_ses_sender: no-reply-test@test.local

public_key_path: keys/public_key.pem
private_key_path: keys/private_key.pem

app:
  security:
    jwt:
      expiration:
        access-token: ${access_token}
        refresh-token: ${refresh_token}

otp:
  length: ${otp_length}
  ttl-minutes: ${otp_ttl_minutes}
  max-verify-attempts: ${otp_max_verify_attempts}
  request-window-seconds: ${otp_request_window_seconds}
  block-duration-minutes: ${otp_block_duration_minutes}
  resend-cooldown-seconds: ${otp_resend_cooldown_seconds}
  max-requests-per-window: ${otp_max_requests_per_window}
  cleanup:
    delay-ms: ${otp_cleanup_delay_ms}

auth:
  signup:
    request-window-seconds: ${auth_signup_request_window_seconds}
    max-requests-per-window: ${auth_signup_max_requests_per_window}
    block-duration-minutes: ${auth_signup_block_duration_minutes}
  login:
    max-failed-attempts: ${auth_login_max_failed_attempts}
    block-duration-minutes: ${auth_login_block_duration_minutes}

aws:
  region: ${aws_region}
  ses:
    enabled: false
    sender: ${aws_ses_sender}
  sns:
    enabled: false
keys:
  public: ${public_key_path}
  private: ${private_key_path}

rate-limit:
  rules:
    signup:
      capacity: 3
      refill-tokens: 3
      refill-minutes: 60
    login:
      capacity: 10
      refill-tokens: 10
      refill-minutes: 15
    otp:
      capacity: 5
      refill-tokens: 5
      refill-minutes: 30

logging:
  level:
    org.miniProjectTwo.DragonOfNorth: INFO
    org.springframework: WARN
    org.hibernate: WARN